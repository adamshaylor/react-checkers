(this["webpackJsonpreact-checkers"]=this["webpackJsonpreact-checkers"]||[]).push([[0],{17:function(e,n,r){},25:function(e,n,r){},26:function(e,n,r){"use strict";r.r(n);var t=r(0),o=r.n(t),l=r(6),i=r.n(l),c=(r(17),r(11)),a=r.n(c),u=r(1),s={red:{man:Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 50.37",children:[Object(u.jsx)("path",{d:"M87.26,64.3C87.26,74.05,70.86,82,50.63,82S14,74.05,14,64.3V49.5H87.26Z",transform:"translate(-13 -32.08)",fill:"red",stroke:"#000",strokeMiterlimit:"10"}),Object(u.jsx)("ellipse",{cx:"37.5",cy:"18.15",rx:"37",ry:"17.65",fill:"red",stroke:"#000",strokeMiterlimit:"10"})]}),king:Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75.08 63.38",children:[Object(u.jsx)("path",{d:"M87.26,64.3C87.26,74.05,70.86,82,50.63,82S14,74.05,14,64.3V49.5H87.26Z",transform:"translate(-12.92 -19.07)",fill:"red",stroke:"#000",strokeMiterlimit:"10"}),Object(u.jsx)("ellipse",{cx:"37.58",cy:"31.16",rx:"37",ry:"17.65",fill:"red",stroke:"#000",strokeMiterlimit:"10"}),Object(u.jsx)("path",{d:"M87.19,51.29c0,9.75-16.4,17.65-36.63,17.65S13.92,61,13.92,51.29V36.49H87.19Z",transform:"translate(-12.92 -19.07)",fill:"red",stroke:"#000",strokeMiterlimit:"10"}),Object(u.jsx)("ellipse",{cx:"37.5",cy:"18.15",rx:"37",ry:"17.65",fill:"red",stroke:"#000",strokeMiterlimit:"10"})]})},white:{man:Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 50.37",children:[Object(u.jsx)("path",{d:"M87.26,64.3C87.26,74.05,70.86,82,50.63,82S14,74.05,14,64.3V49.5H87.26Z",transform:"translate(-13 -32.08)",fill:"#fff",stroke:"#000",strokeMiterlimit:"10"}),Object(u.jsx)("ellipse",{cx:"37.5",cy:"18.15",rx:"37",ry:"17.65",fill:"#fff",stroke:"#000",strokeMiterlimit:"10"})]}),king:Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75.08 63.38",children:[Object(u.jsx)("path",{d:"M87.26,64.3C87.26,74.05,70.86,82,50.63,82S14,74.05,14,64.3V49.5H87.26Z",transform:"translate(-12.92 -19.07)",fill:"#fff",stroke:"#000",strokeMiterlimit:"10"}),Object(u.jsx)("ellipse",{cx:"37.58",cy:"31.16",rx:"37",ry:"17.65",fill:"red",stroke:"#000",strokeMiterlimit:"10"}),Object(u.jsx)("path",{d:"M87.19,51.29c0,9.75-16.4,17.65-36.63,17.65S13.92,61,13.92,51.29V36.49H87.19Z",transform:"translate(-12.92 -19.07)",fill:"#fff",stroke:"#000",strokeMiterlimit:"10"}),Object(u.jsx)("ellipse",{cx:"37.5",cy:"18.15",rx:"37",ry:"17.65",fill:"#fff",stroke:"#000",strokeMiterlimit:"10"})]})}};function f(e){return s[e.color][e.rank]}var d=r(4),m=r.n(d),v=r(5),j=v.c,x=r(3),g=r(2),p=r(8),b=r(7),w="red",y="white",h="man",O={color:w,rank:h},S={color:y,rank:h},k=["nw","ne","se","sw"],I={nw:-4,ne:-3,se:5,sw:4},q={nw:-5,ne:-4,se:4,sw:3},M=function(e){return Math.floor(e/4)%2===0},P=function(e,n){return function(e,n){if(("nw"===n||"ne"===n)&&e<4)return!1;if(("sw"===n||"se"===n)&&e>=28)return!1;var r=M(e);return!!("nw"!==n&&"sw"!==n||r||e%4!==0)&&(!("ne"===n||"se"===n)||!r||(e+1)%4!==0)}(e,n)?M(e)?e+I[n]:e+q[n]:null},_=function(e,n){var r=P(e,n);return null===r?null:P(r,n)},G=function(e){return e.playerActions.slice(-1)[0]||null},A=function(e,n){return e.reduce((function(e,r,t){return r&&r.color===n?e.concat(t):e}),[])},B=function(e){return"number"===typeof e.to},N=function(e,n){return{from:e,to:P(e,n)}},V=function(e,n){return A(e,n).reduce((function(e,n){return e.concat(function(e){return k.map((function(n){return N(e,n)})).filter(B)}(n))}),[]).filter((function(n){return E(e,n)}))},H=function(e,n){return A(e,n).reduce((function(e,n){return e.concat(Z(n))}),[]).filter((function(n){return E(e,n)}))},W=function(e,n){return{from:e,to:_(e,n)}},Z=function(e){return k.map((function(n){return W(e,n)})).filter(B)},C=function(e){var n=k.find((function(n){return N(e.from,n).to===e.to}));if(n)return{direction:n,type:"simple move"};var r=k.find((function(n){return W(e.from,n).to===e.to}));return r?{direction:r,type:"jump move"}:null},E=function(e,n){var r=e[n.from],t=e[n.to];if(!r||t)return!1;var o=C(n);if(!o)return!1;var l=o.type,i=o.direction;if(r.rank===h&&!function(e,n){return n===w?"sw"===e||"se"===e:"nw"===e||"ne"===e}(i,r.color))return!1;if("jump move"===l){var c=P(n.from,i);if(!c)return!1;var a=e[c];if(!a||a.color===r.color)return!1}return!0},T=function(e,n){return"red"===n?27<e&&e<=31:0<=e&&e<4},J=function(e){var n=e.rowIndex%2===0,r=e.columnIndex%2===0;return n&&!r||!n&&r?(n?(e.columnIndex-1)/2:e.columnIndex/2)+4*e.rowIndex:null},K=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],t=e[n.from];if(!t||r&&!E(e,n))throw new Error("Illegal move");var o=Object(x.a)(e);o[n.from]=null,o[n.to]=T(n.to,t.color)?Object(g.a)(Object(g.a)({},t),{},{rank:"king"}):t;var l="red"===t.color?"white":"red",i=[].concat(Object(x.a)(H(o,l)),Object(x.a)(V(o,l))),c=0===i.length,a=c?t.color:null;return{type:"simple move",color:t.color,move:n,resultantPlayingSquaresState:o,endsTurn:!0,endsGame:c,resultantWinner:a}},F=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],t=e[n.from],o=C(n);if(!t||!o||r&&!E(e,n))throw new Error("Illegal move");var l=o.direction,i=P(n.from,l),c=Object(x.a)(e);c[n.from]=null;var a=T(n.to,t.color);c[n.to]=a?Object(g.a)(Object(g.a)({},t),{},{rank:"king"}):t,c[i]=null;var u=H(c,t.color).filter((function(e){return e.from===n.to})),s=a||!u.length,f="red"===t.color?"white":"red",d=[].concat(Object(x.a)(H(c,f)),Object(x.a)(V(c,f))),m=0===d.length,v=s&&m,j=v?t.color:null;return{type:"jump move",color:t.color,move:n,resultantPlayingSquaresState:c,endsTurn:s,endsGame:v,resultantWinner:j}},$={initialPlayingSquaresState:[O,O,O,O,O,O,O,O,O,O,O,O,null,null,null,null,null,null,null,null,S,S,S,S,S,S,S,S,S,S,S,S],playerActions:[],selectedPlayingSquareIndex:null},z=Object(p.b)({name:"game",initialState:$,reducers:{makeMove:function(e,n){var r=n.payload,t=C(r);if(!t)throw new Error("Illegal move");var o=function(e){var n=G(e);return n?n.resultantPlayingSquaresState:e.initialPlayingSquaresState}(e),l="jump move"===t.type?F(o,r):K(o,r);return Object(g.a)(Object(g.a)({},e),{},{playerActions:[].concat(Object(x.a)(e.playerActions),[l]),selectedPlayingSquareIndex:null})},selectPhysicalSquare:function(e,n){return Object(g.a)(Object(g.a)({},e),{},{selectedPlayingSquareIndex:n.payload?J(n.payload):null})}}}),D=function(e){return e.game},L=function(e){return G(e.game)},Q=function(e){return"number"===typeof e.game.selectedPlayingSquareIndex?function(e){return 0<=(n=e)&&n<=31?{rowIndex:Math.floor(e/4),columnIndex:M(e)?e%4*2+1:e%4*2}:null;var n}(e.game.selectedPlayingSquareIndex):null},R=(Object(b.a)([L],(function(e){return!!e&&e.endsGame})),Object(b.a)([L],(function(e){return e?e.endsGame?null:e.endsTurn?e.color===w?y:w:e.color:w}))),U=Object(b.a)([D,L],(function(e,n){return n?n.resultantPlayingSquaresState:e.initialPlayingSquaresState})),X=(Object(b.a)([D,function(e,n){return n}],(function(e,n){return e.playerActions.reduce((function(e,r){return"jump move"===r.type&&r.color===n?e+1:e}),0)})),Object(b.a)([U,R],(function(e,n){return n?A(e,n):[]})),Object(b.a)([R,function(e){return e.game.playerActions.filter((function(e){return"simple move"===e.type||"jump move"===e.type})).slice(-1)[0]||null},U],(function(e,n,r){if(!e)return[];var t=(null===n||void 0===n?void 0:n.color)===e&&"jump move"===(null===n||void 0===n?void 0:n.type),o=H(r,e).filter((function(e){var r;return t?(null===n||void 0===n||null===(r=n.move)||void 0===r?void 0:r.to)===e.from:e})).map((function(e){return F(r,e,!1)}));return o.length?o:V(r,e).map((function(e){return K(r,e,!1)}))}))),Y=Object(b.a)([U],(function(e){return Array.from({length:8},(function(n,r){return Array.from({length:8},(function(n,t){var o=J({rowIndex:r,columnIndex:t});return null!==o?{playingSquareIndex:o,piece:e[o]}:null}))}))})),ee=z.actions,ne=ee.makeMove,re=ee.selectPhysicalSquare,te=z.reducer;function oe(){var e=j(D),n=j(R),r=j(L),t=j(Y),o=j(Q),l=j(X),i=Object(v.b)(),c=function(e,n){var r=o&&o.rowIndex===n.rowIndex&&o.columnIndex===n.columnIndex,t=e?r?m.a.gameSquareSelected:m.a.gameSquarePlaying:m.a.gameSquareNonPlaying;return a()(m.a.gameSquare,t)};return Object(u.jsxs)("div",{className:"{styles.game}",children:[Object(u.jsx)("table",{children:Object(u.jsx)("tbody",{children:t.map((function(r,a){return Object(u.jsx)("tr",{children:r.map((function(r,s){return Object(u.jsxs)("td",{className:c(r,{rowIndex:a,columnIndex:s}),onClick:function(){return function(r){var c,a=o&&o.rowIndex===r.rowIndex&&o.columnIndex===r.columnIndex,u=t[r.rowIndex][r.columnIndex],s=(null===u||void 0===u||null===(c=u.piece)||void 0===c?void 0:c.color)===n,f=J(r),d=l.find((function(n){var r,t;return(null===(r=n.move)||void 0===r?void 0:r.from)===e.selectedPlayingSquareIndex&&(null===(t=n.move)||void 0===t?void 0:t.to)===f})),m=null===d||void 0===d?void 0:d.move,v=m?ne(m):re(a||!s?null:r);i(v)}({rowIndex:a,columnIndex:s})},children:[r&&r.piece&&Object(u.jsx)(f,{color:r.piece.color,rank:r.piece.rank}),Object(u.jsx)("span",{className:m.a.squareIndex,children:J({rowIndex:a,columnIndex:s})})]},"[".concat(a,"][").concat(s,"]"))}))},"[".concat(a,"]"))}))})}),Object(u.jsxs)("div",{children:["Turn: ",n||"none"]}),Object(u.jsxs)("div",{children:["Valid moves:",l.map((function(e){var n,r;return"".concat(null===(n=e.move)||void 0===n?void 0:n.from," \u2192 ").concat(null===(r=e.move)||void 0===r?void 0:r.to)})).join(", ")]}),Object(u.jsxs)("div",{children:["Winner: ",(null===r||void 0===r?void 0:r.resultantWinner)||"none"]})]})}r(25);var le=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(oe,{})})},ie=Object(p.a)({reducer:{game:te}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(v.a,{store:ie,children:Object(u.jsx)(le,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},4:function(e,n,r){e.exports={gameSquare:"Game_gameSquare__1dGwF",gameSquarePlaying:"Game_gameSquarePlaying__3yjtI",gameSquareNonPlaying:"Game_gameSquareNonPlaying__taBs7",gameSquareSelected:"Game_gameSquareSelected__2l6KE",squareIndex:"Game_squareIndex__1-u-K"}}},[[26,1,2]]]);
//# sourceMappingURL=main.0d236a91.chunk.js.map